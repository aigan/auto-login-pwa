<!DOCTYPE html>
<link rel="icon" href="/img/jonas-2016-300.jpg">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script>try{eval("for(let i of document.querySelectorAll('body')){(i)=>i+1}")} catch(e){window.location.href="unsupported.html"}</script>
<body>
	<header>
		<section><span id="status">Loading</span></section>
		<spacer></spacer>
		<section class="logged-in"><button id="logout">Log out</button></section>
	</header>
	<main>
		<section class="logged-out">
			<section class="login-alternatives">
				<h1>You wanna log in?</h1>
				<button id="a_login" disabled>Log in</button>
				<button id="p_login" disabled><spinner></spinner>with Password</button>
				<button id="g_login" disabled><spinner></spinner>with Google</button>
				<button id="f_login" disabled>with Facebook</button>
			</section>
			<form class="login-password">
				<paper-input name="username" label="Name" type="text" autocomplete="username"></paper-input>
				<paper-input name="password" label="Password" type="password" autocomplete="current-password"></paper-input>
				<paper-button class="submit" raised>Login</paper-button>
				<input hidden="true" type="submit">
			</form>
		</section>
		<section class="logged-in">
			<p>It's a <span class="wow">brand</span> new world</p>
		</section>
		<section class="user-info">
			<button id="a_forget">Forget me</button> on this device
			<pre class="local"></pre>
			<pre class="password"></pre>
			<pre class="google"></pre>
			<pre class="facebook"></pre>
		</section>
	</main>
	
</body>
<style>
html {
	font-size: 16px; 
}
body {
	margin: 0;
	font-family: sans-serif;
}

header {
	display: flex;
	width: 100%;
	background: grey;
	min-height: 4em;
	flex-direction: row;
	box-sizing: border-box;
}

header, main {
	padding: 0.2em 1em;
}

spacer {
	flex-grow: 1;
}

.logged-in, form.login-password {
	display: none;
}

.wow {
	text-shadow: 0 0 .1em #FF0000;
}

header section {
	display: flex;
	flex-direction: column;
	justify-content: center;
}

header button {
	display: block;
}

button {
	font-size: 110%;
	padding: 0.4em 0.8em;
}

button:disabled {
	opacity: 0.2;
}

.login-password {
	text-align:center;
	max-width: 30em;
	margin: auto;
}

.login-password paper-input {
	text-align:left;
}

.login-password paper-button.submit {
	margin: 1.2em 0 0 0;
	width: 100%;
	color: white;
	background: #4059A9;
}

.user-info {
	margin-top: 1em;
}

spinner {
	content: "";
	display: inline-block;
	width: 0;
	height: 0;
	border: solid 0.5em;
	border-radius: 0.5em;
	border-color: #0099ff transparent #0099ff transparent;
	animation: spin 1s linear infinite;
}
@keyframes spin{
	0% {
		transform: rotate(0deg);
	}
	100% {
		transform: rotate(360deg);
	}
}

.login-alternatives button {
	position: relative;
}

.login-alternatives button spinner {
	position: absolute;
	display: none;
}
.login-alternatives button:disabled spinner {
	display: block;
}
.login-alternatives[cred_used]	button:disabled spinner {
	display: none;
}

</style>

<script src="config.js"></script>
<script src="main.js"></script>
<script async src="login.js"></script>
